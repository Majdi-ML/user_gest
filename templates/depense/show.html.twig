{% extends 'base.html.twig' %}

{% block title %}Depense{% endblock %}

{% block body %}
    <h1>Depense</h1>

    <table class="table">
        <tbody>
            
            <tr>
                <th>Montant</th>
                <td>{{ depense.montant }}</td>
            </tr>
            <tr>
                <th>Date_depense</th>
                <td>{{ depense.dateDepense ? depense.dateDepense|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ depense.description }}</td>
            </tr>
            <tr>
                <th>Type</th>
                <td>{{ depense.type }}</td>
            </tr><tr>
                <th>Fichier joint</th>
                <td>
                    {% if depense.attachedFile %}
                        {% if depense.attachedFile ends with '.pdf' %}
                            <a href="{{ asset('uploads/depenses/' ~ depense.attachedFile) }}" target="_blank">
                                <i class="fas fa-file-pdf"></i> Voir le PDF
                            </a>
                        {% else %}
                            <a href="{{ asset('uploads/depenses/' ~ depense.attachedFile) }}" target="_blank">
                                <img src="{{ asset('uploads/depenses/' ~ depense.attachedFile) }}" 
                                     alt="Fichier joint" 
                                     style="max-height: 200px;">
                            </a>
                        {% endif %}
                    {% else %}
                        Aucun fichier joint
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_depense_index') }}">back to list</a>

    <a href="{{ path('app_depense_edit', {'id': depense.id}) }}">edit</a>

    {{ include('depense/_delete_form.html.twig') }}
{% endblock %}
